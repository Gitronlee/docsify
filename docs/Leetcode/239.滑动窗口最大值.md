# 239. 滑动窗口最大值
## 题目
给你一个整数数组 nums，有一个大小为 k 的滑动窗口从数组的最左侧移动到数组的最右侧。你只可以看到在滑动窗口内的 k 个数字。滑动窗口每次只向右移动一位。

返回 滑动窗口中的最大值 。

## 示例

示例 1：

输入：nums = [1,3,-1,-3,5,3,6,7], k = 3
输出：[3,3,5,5,6,7]
解释：
滑动窗口的位置                最大值
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
示例 2：

输入：nums = [1], k = 1
输出：[1]
 

## 提示

1 <= nums.length <= 105
-104 <= nums[i] <= 104
1 <= k <= nums.length
## 思路
用一个双端队列维护滑动窗口窗尾元素时的最大值。那么队列里的比当前元素小的值，在此元素存在于窗口的时期内不可能作为最大值（因为本身当前元素就更大）。因此将其移除。
若队列里里当前元素过远，越出窗口的也要移除。因此队列里存元素对应的下标比其值更好处理。
## 解答
```go
func maxSlidingWindow(nums []int, k int) []int {
    res := []int{}
    deque := []int{}//用来保存下标
    for i,v := range nums{
        // 如果队头记录的下标越出窗口则将其弹出
        if len(deque) > 0 && deque[0] + k <= i {
            deque = deque[1:len(deque)]
        }
        // 如果当前即将入队的值，比队尾坐标对应的值大（等），则将队尾的值弹出
        for len(deque)>0 && nums[deque[len(deque)-1]] <= v{
            deque = deque[0:len(deque)-1]
        }
        // 将当前值的下标入队
        deque = append(deque, i)
        // 保存结果，需要在滑动窗口装满后更新
        if i >= k - 1{
            res = append(res,nums[deque[0]])
        }
    }
    return res
    
}
```